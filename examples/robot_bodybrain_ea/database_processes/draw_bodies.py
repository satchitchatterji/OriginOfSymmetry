from util import create_engine

dbengine = create_engine("../big_exp001.sqlite")
import config
import pandas
from experiment import Experiment
from generation import Generation
from individual import Individual
from population import Population

# serialized_bodies = pandas.read_sql("select id, serialized_body from genotype", dbengine)
s_body = '{\n    "value0": {\n        "value0": 0,\n        "value1": [\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 1,\n                "value2": 1,\n                "value3": 0.0,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 1,\n                "value10": 0.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 2,\n                "value2": 1,\n                "value3": 0.0,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 1,\n                "value10": 0.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 3,\n                "value2": 1,\n                "value3": 0.0,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 1,\n                "value10": 0.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 4,\n                "value2": 1,\n                "value3": 0.0,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 1,\n                "value10": 0.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 5,\n                "value2": 2,\n                "value3": 0.0,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 1,\n                "value10": 0.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 6,\n                "value2": 4,\n                "value3": 3.025,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 11,\n                "value10": 1.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 7,\n                "value2": 4,\n                "value3": 3.025,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 11,\n                "value10": 1.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 8,\n                "value2": 4,\n                "value3": 3.025,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 11,\n                "value10": 1.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 9,\n                "value2": 4,\n                "value3": 3.025,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 11,\n                "value10": 1.0\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 10,\n                "value2": 4,\n                "value3": 3.025,\n                "value4": 0.0,\n                "value5": 0.0,\n                "value6": 0.0,\n                "value7": 0,\n                "value8": 0,\n                "value9": 11,\n                "value10": 1.0\n            }\n        ],\n        "value2": [\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 1,\n                "value2": 6,\n                "value3": 1,\n                "value4": false,\n                "value5": 0.010113624565461076\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 2,\n                "value2": 6,\n                "value3": 2,\n                "value4": false,\n                "value5": -0.03526449830320779\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 3,\n                "value2": 6,\n                "value3": 3,\n                "value4": false,\n                "value5": -0.651811455648992\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 4,\n                "value2": 6,\n                "value3": 4,\n                "value4": false,\n                "value5": 0.040999706064401179\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 5,\n                "value2": 6,\n                "value3": 5,\n                "value4": false,\n                "value5": 0.11774273998638542\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 1,\n                "value2": 7,\n                "value3": 6,\n                "value4": false,\n                "value5": 0.01684088909446773\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 2,\n                "value2": 7,\n                "value3": 7,\n                "value4": false,\n                "value5": 0.21131500733827078\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 3,\n                "value2": 7,\n                "value3": 8,\n                "value4": false,\n                "value5": -0.15660091152372683\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 4,\n                "value2": 7,\n                "value3": 9,\n                "value4": false,\n                "value5": -0.6104469711507051\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 5,\n                "value2": 7,\n                "value3": 10,\n                "value4": false,\n                "value5": -0.0782809164076107\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 1,\n                "value2": 8,\n                "value3": 11,\n                "value4": false,\n                "value5": -0.15953659588999548\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 2,\n                "value2": 8,\n                "value3": 12,\n                "value4": false,\n                "value5": -0.2118585016266289\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 3,\n                "value2": 8,\n                "value3": 13,\n                "value4": false,\n                "value5": -0.2990293017038649\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 4,\n                "value2": 8,\n                "value3": 14,\n                "value4": false,\n                "value5": 0.022626464086981103\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 5,\n                "value2": 8,\n                "value3": 15,\n                "value4": false,\n                "value5": 0.2511635244021243\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 1,\n                "value2": 9,\n                "value3": 16,\n                "value4": false,\n                "value5": 0.28847384128225386\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 2,\n                "value2": 9,\n                "value3": 17,\n                "value4": false,\n                "value5": -0.018402028922085785\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 3,\n                "value2": 9,\n                "value3": 18,\n                "value4": false,\n                "value5": -0.5477688868167767\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 4,\n                "value2": 9,\n                "value3": 19,\n                "value4": false,\n                "value5": 0.5029848674550204\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 5,\n                "value2": 9,\n                "value3": 20,\n                "value4": false,\n                "value5": -0.35665919669365078\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 1,\n                "value2": 10,\n                "value3": 21,\n                "value4": false,\n                "value5": -0.026241690223869519\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 2,\n                "value2": 10,\n                "value3": 22,\n                "value4": false,\n                "value5": -0.8597902856510387\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 3,\n                "value2": 10,\n                "value3": 23,\n                "value4": false,\n                "value5": 0.5382865321654204\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 4,\n                "value2": 10,\n                "value3": 24,\n                "value4": false,\n                "value5": 0.21633687808654523\n            },\n            {\n                "value0": {\n                    "value0": []\n                },\n                "value1": 5,\n                "value2": 10,\n                "value3": 25,\n                "value4": false,\n                "value5": -0.3517090065624598\n            }\n        ],\n        "value3": 5,\n        "value4": 5,\n        "value5": 0.0,\n        "value6": 0.0,\n        "value7": 0,\n        "value8": 0.0,\n        "value9": false,\n        "value10": 16384,\n        "value11": {\n            "value0": []\n        },\n        "value12": 10,\n        "value13": 25\n    }\n}'

import multineat
body = multineat.Genome()
body.Deserialize(s_body)

from genotype import Genotype
g = Genotype(body=body, brain=None)
gbody = g.develop()

# from planar_robot_representation import draw_robot, draw_robots
import importlib
import planar_robot_representation
importlib.reload(planar_robot_representation)
planar_robot_representation.draw_robot(gbody, path="robot_imgs")